
Add an r.json test

cleanup mrq and memcac pro/client
If MemcachedClient_set servers are down we return NULL and don't setup an exception
Add tests for memc and mrq failover. 
If we don't post JSON this breaks.  Check for empty body.  Maybe check JSON or endpoint checks and drops?
  curl -i --raw http://localhost:8080/q/0/0/ -H "Cookie: mrsession=43709dd361cc443e976b057145832e6e;" 

test for replace header with r.headers and check 4_reponse.py works
  setContentType or catch it return -1 and rerun add_headers

python dotests.py then ctrl-c during benchmark "RuntimeError: Event loop stopped before Future completed."




Wiki doc:
http://www.django-rest-framework.org/api-guide/requests/



upload a file
  https://stackoverflow.com/questions/12667797/using-curl-to-upload-post-data-with-files

vhosts -- how to do this? I don't like sanic's, maybe do cherrypy's redir
  sanic:
    @app.route('/', host=["example.com",
                      "somethingelse.com",
                      "therestofyourdomains.com"])
  cherrypy:
    conf = {
      "/": {
        "request.dispatch": cherrypy.dispatch.VirtualHost(
          **{
        'api.foo.com':       '/api',



rate limit in C
Make conn/req timeouts as arguments  (20 / 5 right now)

todo add test >128k byte response body to test realloc of response buffer

?? ip = cherrypy.request.remote.ip
Allow setting custom error pages 



Why is 404 so slow?
  raised. We could try to cache it. Create a bytes obj and test just writing that. Or not use the raise method app.404 or something

This is slow so do it in C to speed up forms
  urllib.parse.parse_qsl('foo=bar&baz=foor&dogsdont=likecats')
  cgi.parse_header do in C 
   curl -d "param1=value1&param2=value2" -X POST http://localhost:8080/form --verbose -H "Content-Type: application/x-www-form-urlencoded; charset=UTF-8"


examples/5_router.py -- methods?

logging 

Stream large file upload
https://github.com/channelcat/sanic/issues/546

Dev reload?
https://github.com/channelcat/sanic/issues/168


Write tutorials? github wiki pages
Flask:
https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world


Create an async memcached client - needed for clustering
  embed it in app


Look at a mysql C client?  We can do better than aiomysql.  Either libmysqlclient or our own
https://dev.mysql.com/doc/dev/mysql-server/latest/PAGE_PROTOCOL.html
https://dev.mysql.com/doc/internals/en/a-mysql-client-logs-in.html


